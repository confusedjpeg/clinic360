{"ast":null,"code":"var _jsxFileName = \"D:\\\\clinic360\\\\clinic360-frontend\\\\src\\\\components\\\\patient\\\\BookAppointment.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst BookAppointment = () => {\n  const token = localStorage.getItem(\"accessToken\");\n  const [doctors, setDoctors] = useState([]);\n  const [selectedDoctor, setSelectedDoctor] = useState(\"\");\n  const [appointmentTime, setAppointmentTime] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    const fetchDoctors = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8000/doctors\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setDoctors(response.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchDoctors();\n  }, [token]);\n  const handleBooking = async e => {\n    e.preventDefault();\n    try {\n      const appointmentData = {\n        doctor_id: selectedDoctor,\n        appointment_time: appointmentTime\n      };\n      await axios.post(\"http://localhost:8000/book-appointment/\", appointmentData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(\"Appointment booked successfully!\");\n    } catch (err) {\n      console.error(err);\n      setMessage(\"Error booking appointment.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Book an Appointment\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleBooking,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedDoctor,\n    onChange: e => setSelectedDoctor(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Select a Doctor\"), doctors.map(doc => /*#__PURE__*/React.createElement(\"option\", {\n    key: doc.id,\n    value: doc.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, doc.name, \" - \", doc.speciality))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"datetime-local\",\n    value: appointmentTime,\n    onChange: e => setAppointmentTime(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Book Appointment\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, message));\n};\nexport default BookAppointment;","map":{"version":3,"names":["React","useState","useEffect","axios","BookAppointment","token","localStorage","getItem","doctors","setDoctors","selectedDoctor","setSelectedDoctor","appointmentTime","setAppointmentTime","message","setMessage","fetchDoctors","response","get","headers","Authorization","data","err","console","error","handleBooking","e","preventDefault","appointmentData","doctor_id","appointment_time","post","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","doc","key","id","name","speciality","type"],"sources":["D:/clinic360/clinic360-frontend/src/components/patient/BookAppointment.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst BookAppointment = () => {\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [selectedDoctor, setSelectedDoctor] = useState(\"\");\r\n  const [appointmentTime, setAppointmentTime] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchDoctors = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8000/doctors\", {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setDoctors(response.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchDoctors();\r\n  }, [token]);\r\n\r\n  const handleBooking = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const appointmentData = {\r\n        doctor_id: selectedDoctor,\r\n        appointment_time: appointmentTime\r\n      };\r\n      await axios.post(\"http://localhost:8000/book-appointment/\", appointmentData, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setMessage(\"Appointment booked successfully!\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"Error booking appointment.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Book an Appointment</h3>\r\n      <form onSubmit={handleBooking}>\r\n        <select value={selectedDoctor} onChange={(e) => setSelectedDoctor(e.target.value)} required>\r\n          <option value=\"\">Select a Doctor</option>\r\n          {doctors.map(doc => (\r\n            <option key={doc.id} value={doc.id}>{doc.name} - {doc.speciality}</option>\r\n          ))}\r\n        </select>\r\n        <input type=\"datetime-local\" value={appointmentTime} onChange={(e) => setAppointmentTime(e.target.value)} required />\r\n        <button type=\"submit\">Book Appointment</button>\r\n      </form>\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookAppointment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}