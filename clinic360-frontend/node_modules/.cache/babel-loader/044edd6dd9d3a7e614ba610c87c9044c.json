{"ast":null,"code":"var _jsxFileName = \"D:\\\\clinic360\\\\clinic360-frontend\\\\src\\\\components\\\\patient\\\\PatientDetails.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nconst PatientDetails = () => {\n  const token = localStorage.getItem(\"accessToken\");\n  console.log(\"Token:\", token);\n  const [details, setDetails] = useState({\n    name: \"\",\n    age: \"\",\n    gender: \"\",\n    contact: \"\",\n    medical_history: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n  const handleChange = e => {\n    setDetails({\n      ...details,\n      [e.target.name]: e.target.value\n    });\n  };\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    }\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:8000/register-patient/\", details, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setMessage(\"Patient details registered successfully!\");\n      // Optionally store patient ID: localStorage.setItem(\"patientId\", response.data.id);\n    } catch (err) {\n      console.error(err);\n      setMessage(\"Error registering patient details.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Register Your Details\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Name\",\n    value: details.name,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"age\",\n    placeholder: \"Age\",\n    value: details.age,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"gender\",\n    placeholder: \"Gender\",\n    value: details.gender,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"contact\",\n    placeholder: \"Contact\",\n    value: details.contact,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"medical_history\",\n    placeholder: \"Medical History\",\n    value: details.medical_history,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Submit Details\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }, message));\n};\nexport default PatientDetails;","map":{"version":3,"names":["React","useState","axios","PatientDetails","token","localStorage","getItem","console","log","details","setDetails","name","age","gender","contact","medical_history","message","setMessage","handleChange","e","target","value","useEffect","navigate","handleSubmit","preventDefault","response","post","headers","err","error","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required"],"sources":["D:/clinic360/clinic360-frontend/src/components/patient/PatientDetails.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst PatientDetails = () => {\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  console.log(\"Token:\", token);\r\n  const [details, setDetails] = useState({\r\n    name: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    contact: \"\",\r\n    medical_history: \"\"\r\n  });\r\n  const [message, setMessage] = useState(\"\");\r\n  \r\n  const handleChange = (e) => {\r\n    setDetails({ ...details, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate('/login');\r\n    }\r\n  }, []);\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\"http://localhost:8000/register-patient/\", details, {\r\n        headers: { \r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      setMessage(\"Patient details registered successfully!\");\r\n      // Optionally store patient ID: localStorage.setItem(\"patientId\", response.data.id);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"Error registering patient details.\");\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <h3>Register Your Details</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"name\" placeholder=\"Name\" value={details.name} onChange={handleChange} required />\r\n        <input type=\"number\" name=\"age\" placeholder=\"Age\" value={details.age} onChange={handleChange} required />\r\n        <input type=\"text\" name=\"gender\" placeholder=\"Gender\" value={details.gender} onChange={handleChange} required />\r\n        <input type=\"text\" name=\"contact\" placeholder=\"Contact\" value={details.contact} onChange={handleChange} required />\r\n        <textarea name=\"medical_history\" placeholder=\"Medical History\" value={details.medical_history} onChange={handleChange} required />\r\n        <button type=\"submit\">Submit Details</button>\r\n      </form>\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}